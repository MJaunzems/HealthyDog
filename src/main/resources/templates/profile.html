<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>My Project Information</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Young+Serif&display=swap" rel="stylesheet">

    <style>
        body{
              background-image: url('https://images.unsplash.com/photo-1620606725370-5f2b025cadc6?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
              background-size: cover;
              margin: 0;
              font-family: 'Young Serif', serif;
              color: #fff;
              display: flex;
          }

          h1 {
              margin-top: 14%;
              font-family: 'Young Serif', serif;
              font-weight: bold;
              text-align: center;
              width: 70%;
              margin-right: 80%;
          }

          .sidebar {
              width: 30%;
              padding: 20px;
              position: fixed;
              right: -500px; /* Начальное положение за пределами экрана */
              top: 0;
              height: 100%;
              background-color: rgba(255, 255, 255, 0.8);
              transition: right 0.5s ease;
          }

          .card-container {
              font-family: 'Young Serif', serif;
              border-radius: 10px;
              padding: 20px;
              margin-bottom: 20px;
              max-width: 400px;
          }

          label {
              color: #3498db;
              font-weight: bold;
          }

          input {
              width: 100%;
              padding: 8px;
              margin-bottom: 15px;
              border: 1px solid #3498db;
              border-radius: 4px;
              box-sizing: border-box;
          }

          button {
              background-color: #3498db;
              color: #fff;
              padding: 10px 20px;
              border: none;
              border-radius: 4px;
              cursor: pointer;
          }

          button:hover {
              background-color: #2980b9;
          }

          .footer {
              background-color: rgba(52, 152, 219, 0.5);
              color: #fff;
              text-align: center;
              padding: 10px;
              position: fixed;
              bottom: 0;
              width: 100%;
              transition: background-color 0.5s ease;
          }

          .footer:hover {
              background-color: #3498db;
          }

          .sidebar:hover {
              right: 0; /* Полное отображение при наведении */
          }

          @media (max-width: 768px) {

              body {
                  background-size: cover;
                  background-position: center center;
                  height:100vh;
                  }

                  h1 {
              width: 100%;
              margin-top: 30%;
              }

              .sidebar {
              width: 100%;
              right: 0;
              }
          }
    </style>
</head>
<body>
<div>
    <h2>Your Pets</h2>
    <table>
        <thead>
        <tr>
            <th>Pet Name</th>
            <th>Pet Type</th>
            <th>Activity</th>
            <th>Weight</th>
            <th>Age</th>
            <th>Allegies</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="pet : ${pets}">
            <td th:text="${pet.petName}"></td>
            <td th:text="${pet.petType}"></td>
            <td th:text="${pet.petActivity}"></td>
            <td th:text="${pet.petWeight}"></td>
            <td th:text="${pet.petAge}"></td>
            <td th:text="${pet.petIllness}"></td>
        </tr>
        </tbody>
    </table>
</div>
<h1>Profile</h1>

<form th:action="@{/profile/savePet}" method="post">
    <label for="petType">Pet Type:</label>
    <select id="petType" name="petType">
        <option value="Dog">Dog</option>
        <option value="Cat">Cat</option>
    </select>

    <label for="petName">Pet Name:</label>
    <input type="text" id="petName" name="petName"  required>

    <label for="activity">Activity:</label>
    <div th:if="${errorActivity}" class="error" th:text="${errorActivity}"></div>
    <select name="activity" id="activity" class="form-control">
        <option value="null">Select option:</option>
        <option value="Minimal activity">Minimal activity (or old)</option>
        <option value="Low activity">Low activity</option>
        <option value="Medium activity">Medium activity</option>
        <option value="High activity">High activity</option>
        <option value="Very high activity">Very high activity</option>
    </select><br>

    <label for="weight">Weight:</label><br>
    <div th:if="${errorWeight}" class="error" th:text="${errorWeight}"></div>
    <input type="number" id="weight" name="weight" placeholder="0.00" class="form-control"><br>

    <label for="age">Age:</label><br>
    <div th:if="${errorAge}" class="error" th:text="${errorAge}"></div>
    <select name="age" id="age" class="form-control">
        <option value="null">Select option:</option>
        <option value="Baby">Baby (until 6 months)</option>
        <option value="Junior">Junior (from 6m. to 2y.)</option>
        <option value="Adult">Adult (from 2y. to 8y.)</option>
        <option value="Senior">Senior (from 8y.)</option>
    </select><br>

    <div class="allergies-container">
        <div class="column">
            <div th:each="option, stat : ${options}" th:if="${stat.index % 2 == 0}" class="col-md-10 col-sm-6">
                <input type="checkbox" name="allergies" th:value="${option.allergicName}"
                       th:id="${'allergy-' + option.allergicId}" class="form-check-input"/>
                <label th:for="${'allergy-' + option.allergicId}" th:text="${option.allergicName}"
                       class="form-check-label"></label><br>
            </div>
        </div>
        <div class="column">
            <div th:each="option, stat : ${options}" th:if="${stat.index % 2 != 0}" class="col-md-10 col-sm-6">
                <input type="checkbox" name="allergies" th:value="${option.allergicName}"
                       th:id="${'allergy-' + option.allergicId}" class="form-check-input"/>
                <label th:for="${'allergy-' + option.allergicId}" th:text="${option.allergicName}"
                       class="form-check-label"></label><br>
            </div>
        </div>
    </div>

    <button type="submit">Save Pet</button>
</form>


<div class="sidebar">
    <div class="card-container">
        <h2>Edit Profile</h2>
        <form th:action="@{/profile/update}" th:object="${user}" method="post">
            <label for="username">Username:</label>
            <input type="text" id="username" th:field="*{username}" required>

            <label for="email">Email:</label>
            <input type="email" id="email" th:field="*{email}" required>

            <label for="phone">Phone number:</label>
            <input type="tel" id="phone" th:field="*{phone}" required>

            <button type="submit">Update Profile</button>
        </form>
    </div>

    <div class="card-container">
        <h2>Change Password</h2>
        <form th:action="@{/profile/change-password}" method="post">
            <label for="currentPassword">Current Password:</label>
            <input type="password" id="currentPassword" name="currentPassword" required>

            <label for="newPassword">New Password:</label>
            <input type="password" id="newPassword" name="newPassword" required>

            <button type="submit">Change Password</button>
        </form>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>
</html>
